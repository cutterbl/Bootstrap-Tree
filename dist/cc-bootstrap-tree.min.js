(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)})([function(a){a.exports=jQuery},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(a){if(!a)return!1;if('string'==typeof a){if(a=a.trim(),!isNaN(a))return!!parseFloat(a);'true'===a||'yes'===a?a=!0:'false'===a||'no'===a?a=!1:void 0}return!!a}},function(a,b,c){c(3),a.exports=c(6)},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,'__esModule',{value:!0});var e=c(0),f=d(e),g=c(4),h=d(g);(function(a){if('undefined'==typeof a)throw new Error('CC-Bootstrap-Tree\'s JavaScript requires jQuery. jQuery must be included beforehand.');var b=a.fn.jquery.split(' ')[0].split('.'),c=9;if(b[0]<2&&b[1]<c||b[0]===1&&b[1]===c&&b[2]<1||b[0]>=4)throw new Error('CC-Bootstrap-Tree\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0')})(f.default),b.default=h.default},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(0),i=d(h),j=c(5),k=d(j),l=c(1),m=d(l),n=function(a,b){var c='bstree',d='bs.tree',h='.'+d,i='.bs.collapse',j=a.fn[c],k={base:'',params:{request:{dataType:'json',type:'POST',complete:a.noop,error:a.noop,success:a.noop}}},l={CHECKBOX_CLICK:'click.checkbox'+h,CHECKBOX_CHANGE:'change.checkbox'+h,CHECKALL_CHANGE:'change.checkall'+h,COLLAPSE_SHOW:'show'+i,COLLAPSE_HIDE:'hide'+i},n={FA_ADDER:'fa fa-fw',TREE_ICON:c+'-icon',NODE_TEXT:'node-text',TOGGLE_EXPAND:'fa-chevron-right',TOGGLE_COLLAPSE:'fa-chevron-down',TREE_LOADING:'fa-spinner fa-spin',TREE_OPEN:'fa-folder-open',TREE_CLOSED:'fa-folder',TREE_CHECK:c+'-check',TREE_CHECKALL:c+'-check-all',TREE_CHECKBOX:c+'-checkbox',TREE_UNCHECKED:'fa-square-o',TREE_CHECKED:'fa-check-square',TREE_PARTIAL:'fa-check-square-o',ALL_CHECK_STATES:'fa-square-o fa-check-square fa-check-square-o',CHECKBOX_SETUP:'fa fa-fw '+c+'-checkbox fa-square-o',TREE_NOICON:c+'-noicon',TREE_LEAF:c+'-leaf',TREE_BRANCH:c+'-branch',TREE_FIRST:c+'-first',TREE_LAST:c+'-last',TREE_HEADER_ICON:c+'-header-icon',TREE_ROOT_HEADER:c+'-root-header',TREE_UNDETERMINED:c+'-undetermined',TOGGLE_RIGHT:'fa-chevron-right',TOGGLE_DOWN:'fa-chevron-down'},o={TREE_ICON:'.'+n.TREE_ICON,COLLAPSE:'.collapse',CHECKBOX:'input:checkbox',CHECKED:'input:checked',CHECKBOX_LINKS:'.'+n.TREE_CHECK,CHECKALL_LINKS:'.'+n.TREE_CHECKALL,ALLCHECK_LINKS:'.'+n.TREE_CHECK+', .'+n.TREE_CHECKALL,ANYCHECK_LINKS:'[class^="'+n.TREE_CHECK+'"]',CHECKBOX_INPUTS:'.'+n.TREE_CHECK+'>input',ALLCHECK_INPUTS:'.'+n.TREE_CHECKALL+'>input',CHECKBOX_ICON:'.'+n.TREE_CHECKBOX},p=function(){function h(b,d){e(this,h),this.type=c,this.$element=a(b),this.options=a.extend(!0,{},a.fn[this.type].defaults,this.$element.data(),d),this.expandIcon=this.options.foldertree?n.TREE_CLOSED:n.TOGGLE_EXPAND,this.collapseIcon=this.options.foldertree?n.TREE_OPEN:n.TOGGLE_COLLAPSE,this.initialize()}return g(h,[{key:'dispose',value:function(){a.removeData(this.$element,d),this.type=null,this.$element=null,this.options=null}},{key:'initialize',value:function(){this.addIcons(),this.createEventHandlers()}},{key:'createEventHandlers',value:function(){var a=this;this.$element.on(l.COLLAPSE_SHOW,o.COLLAPSE,function(b){return a.expandTree(b)}).on(l.COLLAPSE_HIDE,o.COLLAPSE,function(b){return a.collapseTree(b)}).on(l.CHECKBOX_CLICK,o.ALLCHECK_LINKS,function(b){return a.checkClickHandler(b)}).on(l.CHECKBOX_CHANGE,o.CHECKBOX_INPUTS,function(b){return a.checkboxChangeHandler(b)}).on(l.CHECKALL_CHANGE,o.ALLCHECK_INPUTS,function(b){return a.checkallChangeHandler(b)})}},{key:'checkClickHandler',value:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.attr('href'),e=a(d),f=e.prop('checked');this.toggleCheckboxValue(e,!f),e.change();var g=c.closest('ul');this.normalizeBranch(g)}},{key:'checkboxChangeHandler',value:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.prop('checked'),e=c.parent(),f=a(o.CHECKBOX_ICON,e);this.toggleCheckMark(f,d)}},{key:'checkallChangeHandler',value:function(b){b.preventDefault();var c=a(b.currentTarget),d=c.prop('checked'),e=c.parent(),f=a(o.CHECKBOX_ICON,e);this.toggleCheckMark(f,d);var g=e.prev().attr('href'),h=a(g,e.closest('li'));this.toggleAll(h,d)}},{key:'toggleCheckMark',value:function(a,b){a.removeClass(n.ALL_CHECK_STATES).addClass(b?n.TREE_CHECKED:n.TREE_UNCHECKED)}},{key:'toggleCheckboxValue',value:function(a,b){a.prop('checked',b)}},{key:'toggleAll',value:function(b,c){var d=a(o.CHECKBOX,b);d.prop('checked',c).change()}},{key:'normalizeBranch',value:function(b){var c=a(o.CHECKALL_LINKS,b.prev()),d=a(o.CHECKBOX,b);if(d.length){var e=d.filter(':checked'),f=n.TREE_UNCHECKED,g=!1;d.length===e.length?(f=n.TREE_CHECKED,g=!0):e.length<d.length&&(f=n.TREE_PARTIAL);var h=a(o.CHECKBOX,c);this.toggleCheckboxValue(h,g),a(o.CHECKBOX_ICON,c).removeClass(n.ALL_CHECK_STATES).addClass(f)}}},{key:'expandTree',value:function(b){var c=this;b.stopPropagation();var d=a(b.currentTarget),e=d.data(),f=a(o.TREE_ICON,d.prev());f.removeClass(this.expandIcon),(!e.href||(0,m.default)(e.loaded))&&f.addClass(this.collapseIcon),e.href&&((0,m.default)(e.reload)||!(0,m.default)(e.loaded))&&(f.addClass(n.TREE_LOADING),this.getData(d).always(function(){return f.removeClass(n.TREE_LOADING).addClass(c.collapseIcon)}))}},{key:'collapseTree',value:function(b){b.stopPropagation();var c=a(b.currentTarget),d=a(o.TREE_ICON,c.prev());d.removeClass(this.collapseIcon).addClass(this.expandIcon)}},{key:'getData',value:function(b){var c=this,d=b.data(),e=a.extend(!0,{},this.options.params),f={url:''+this.options.base+d.href,context:b,data:a.extend(!0,{},d)};return delete e.request.complete,delete e.request.error,delete e.request.success,delete f.data.reload,delete f.data.loaded,delete f.data.href,f=a.extend(!0,e.request,f),a.ajax(f).done(function(a,d,e){return c.buildBranch(b,a),b.data('loaded',!0),c.options.params.request.success(a,d,e)}).fail(this.options.params.request.error).always(function(a,b){return c.options.params.request.complete(a,b)})}},{key:'buildBranch',value:function(a,b){if(b&&Array.isArray(b)&&b.length){a.empty();var c=this.buildNodes(b);a.append(c)}}},{key:'buildNodes',value:function(a){var b=this,c=[];return a.forEach(function(a){var d=b.buildNode(a);c.push(d)}),c}},{key:'buildNode',value:function(a){var c=new b({options:a,treeOptions:this.options});return c.element}},{key:'addIcons',value:function(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$element;if(this.options.checkbox){var d=a(o.ANYCHECK_LINKS,c),e=a('<i>').addClass(n.CHECKBOX_SETUP);d.prepend(e);var f=a(o.CHECKED,d),g=f.prev();g.removeClass(n.TREE_UNCHECKED).addClass(n.TREE_CHECKED);var h=d.filter(o.CHECKALL_LINKS);h.each(function(c,d){var e=a(d),f=e.prev().attr('href'),g=a(f,e.closest('li'));b.normalizeBranch(g)})}}},{key:'getSelected',value:function(){var b=this.$element,c=a(o.CHECKBOX_LINKS+'>'+o.CHECKED,b),d=[];return c.each(function(b,c){return d.push(a(c).val())}),d.join()}},{key:'version',get:function(){return'0.0.5'}},{key:'default',get:function(){return k}}],[{key:'_jQueryInterface',value:function(b,c){return this.each(function(){var e=a(this),g=e.data(d),i=a.extend(!0,{},k,e.data(),'object'===('undefined'==typeof b?'undefined':f(b))&&b);if(g||(g=new h(this,i),e.data(d,g)),'string'==typeof b){if(void 0===f(g[b]))throw new Error('No method named '+b);return g[b](c)}})}}]),h}();return a.fn[c]=p._jQueryInterface,a.fn[c].Constructor=p,a.fn[c].getSelected=p.getSelected,a.fn[c].noConflict=function(){return a.fn[c]=j,p._jQueryInterface},p}(i.default,k.default);b.default=n},function(a,b,c){'use strict';function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var f=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=d(g),i=c(1),j=d(i),k='bstree',l={TREE_ICON:k+'-icon',NODE_TEXT:'node-text',TOGGLE_EXPAND:'fa-chevron-right',TOGGLE_COLLAPSE:'fa-chevron-down',TREE_LOADING:'fa-spinner fa-spin',TREE_NOICON:k+'-noicon',TREE_LEAF:k+'-leaf',TREE_BRANCH:k+'-branch',TREE_FIRST:k+'-first',TREE_LAST:k+'-last',TREE_HEADER_ICON:k+'-header-icon',TREE_ROOT_HEADER:k+'-root-header',TREE_OPEN:k+'-open',TREE_CLOSED:k+'-closed',TREE_CHECKBOX:k+'-checkbox',TREE_CHECKED:k+'-checked',TREE_UNCHECKED:k+'-unchecked',TREE_UNDETERMINED:k+'-undetermined',TOGGLE_RIGHT:'fa-chevron-right',TOGGLE_DOWN:'fa-chevron-down'},m=function(){function a(b){var c=b.options,d=void 0===c?{text:'',leaf:!1,value:void 0,expanded:!1,cls:void 0,id:void 0,href:void 0,checkable:!1,checked:'none',children:[]}:c,f=b.treeOptions,g=void 0===f?{}:f;e(this,a),this.$element=(0,h.default)('<li>'),this.$text=(0,h.default)('<span>').addClass(l.NODE_TEXT),this.attributes={},this.$anchor=null,this.treeOptions=g,this.initialize(d)}return f(a,[{key:'initialize',value:function(a){this.setOptions(a),this.setNodeClass(),this.normalizeCheckbox(),this.setHref(),this.setText(),this.attachAttributes(),this.attachChildren()}},{key:'setOptions',value:function(a){Object.assign(this,a)}},{key:'setNodeClass',value:function(){this.leaf?this.$element.addClass(l.TREE_LEAF):this.$element.addClass(this.expanded?l.TREE_OPEN:l.TREE_CLOSED)}},{key:'normalizeCheckbox',value:function(){this.treeOptions.checkbox||(delete this.attributes['data-checkable'],delete this.attributes['data-checked'])}},{key:'setHref',value:function(){this.href&&(this.leaf?this.$anchor=(0,h.default)('<a>').attr('href',this.href):this.attributes['data-href']=this.href)}},{key:'setText',value:function(){this.$anchor?(this.$anchor.html(this.text),this.$text.append(this.$anchor)):this.$text.html(this.text),this.$element.append(this.$text)}},{key:'attachAttributes',value:function(){this.$element.attr(this.attributes)}},{key:'attachChildren',value:function(){var b=this;if(this.children&&this.children.length){var c=(0,h.default)('<ul>').addClass(l.TREE_BRANCH);this.children.forEach(function(d){var e=new a({options:d,treeOptions:b.treeOptions}),f=e.element;c.append(f)}),this.$element.append(c)}}},{key:'leaf',set:function(a){this._leaf=(0,j.default)(a),this.role=this._leaf?'leaf':'branch'},get:function(){return this._leaf}},{key:'value',set:function(a){this.attributes['data-value']=a},get:function(){return this.attributes['data-value']}},{key:'id',set:function(a){this.attributes.id=a},get:function(){return this.attributes.id}},{key:'checked',set:function(a){this.attributes['data-checked']=void 0!==a&&'none'!==a?(0,j.default)(a):'none'},get:function(){return this.attributes['data-checked']}},{key:'checkable',set:function(a){void 0!==a&&(this.attributes['data-checkable']=(0,j.default)(a))},get:function(){return this.attributes['data-checkable']}},{key:'expanded',set:function(a){this._expanded=a},get:function(){return this._expanded}},{key:'element',set:function(a){this.$element=a;var b=a.data();b.id=a.attr('id'),this.initialize(b)},get:function(){return this.$element}}]),a}();b.default=m},function(){}]);