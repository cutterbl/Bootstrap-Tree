!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=a(r),c=n(2),s=a(c);!function(e){if(void 0===e)throw new Error("CC-Bootstrap-Tree's JavaScript requires jQuery. jQuery must be included beforehand.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("CC-Bootstrap-Tree's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(o.default),t.default=s.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),E=a(s),l=n(3),i=a(l),d=function(e){var t="bstree",n=e.fn[t],a={params:{base:"",request:{dataType:"json",type:"POST",complete:e.noop,error:e.noop,success:e.noop}}},s={CLICK:"click.bs.tree",MOUSEENTER:"mouseenter.bs.tree",MOUSELEAVE:"mouseleave.bs.tree",CHANGE:"change.bs.tree"},E={TREE_ICON:t+"-icon",TREE_NOICON:t+"-noicon",TREE_LEAF:t+"-leaf",TREE_BRANCH:t+"-branch",TREE_FIRST:t+"-first",TREE_LAST:t+"-last",TREE_HEADER_ICON:t+"-header-icon",TREE_ROOT_HEADER:t+"-root-header",TREE_OPEN:t+"-open",TREE_CLOSED:t+"-closed",TREE_CHECKBOX:t+"-checkbox",TREE_CHECKED:t+"-checked",TREE_LOADING:t+"-loading",TREE_HOVERED:t+"-hovered",TREE_UNCHECKED:t+"-unchecked",TREE_UNDETERMINED:t+"-undetermined",TOGGLE_RIGHT:"icon-chevron-right",TOGGLE_DOWN:"icon-chevron-down",NODE_TEXT:"node-text"},l={CHECKBOX:"input:checkbox"},d=function(){function n(a,o){r(this,n),this.type=t,this.$element=e(a),this.options=e.extend(!0,{},e.fn[this.type].defaults,this.$element.data(),o),this.initialize()}return c(n,[{key:"dispose",value:function(){e.removeData(this.$element,"bs.tree"),this.type=null,this.$element=null,this.options=null}},{key:"initialize",value:function(){this.checkLastNode(),this.setupEventHandlers(),this.addIcons()}},{key:"setupEventHandlers",value:function(){var e=this;this.$element.on(s.CLICK+".coll-icon","li>i."+E.TREE_ICON,function(t){return e.treeIconClick(t)}).on(s.CLICK+".coll-icon","li>span."+E.NODE_TEXT+">i."+E.TREE_HEADER_ICON,function(t){return e.treeHeaderIconClick(t)}).on(""+s.MOUSEENTER,"."+E.NODE_TEXT+" "+s.MOUSELEAVE,"."+E.NODE_TEXT,function(t){return e.hoverNode(t)}).on(s.CHANGE+".checkbox",l.CHECKBOX,function(t){return e.setNewState(t)}).on(s.CLICK+".checkbox","."+E.TREE_CHECKBOX,function(t){return e.checkboxHandler(t)})}},{key:"treeIconClick",value:function(t){var n=e(t.currentTarget),a=n.parent(),r=a.data();a.hasClass(E.TREE_LEAF)||(e.isEmptyObject(r)?a.toggleClass(E.TREE_OPEN+" "+E.TREE_CLOSED):this.processNode(n,a,r))}},{key:"treeHeaderIconClick",value:function(t){var n=e(t.currentTarget),a=n.parent(),r=a.data();a.hasClass(E.TREE_LEAF)||(e.isEmptyObject(r)?(a.toggleClass(E.TREE_OPEN+" "+E.TREE_CLOSED),n.toggleClass(E.TOGGLE_RIGHT+" "+E.TOGGLE_DOWN)):this.processNode(n,a,r))}},{key:"hoverNode",value:function(t){e(t.currentTarget).toggleClass(E.TREE_HOVERED)}},{key:"setNewState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e(t.currentTarget),o=r.closest("li"),c=e("ul li",o),s=r.prev("i[class~="+E.TREE_CHECKBOX+"]");if(a=null!==a?a:r.prop("checked"),s.removeClass(E.TREE_CHECKED+" "+E.TREE_UNCHECKED+" "+E.TREE_UNDETERMINED),c)s.addClass(a?E.TREE_CHECKED:E.TREE_UNCHECKED);else{var i=e(l.CHECKBOX,c),d=e("i[class~="+E.TREE_CHECKBOX+"]",c);if(n){e.grep(i,function(t){return e(t).prop("checked")})?s.addClass(a?E.TREE_CHECKED:E.TREE_UNDETERMINED):s.addClass(a?E.TREE_CHECKED:E.TREE_UNCHECKED)}else s.addClass(a?E.TREE_CHECKED:E.TREE_UNCHECKED),i.prop("checked",a),i.each(function(t,n){var r=e(n).closest("li");r.data().checked!==a&&r.data("checked",a)}),d.removeClass(E.TREE_CHECKED).removeClass(E.TREE_UNCHECKED).removeClass(E.TREE_UNDETERMINED)}console.log("event data",t.data)}},{key:"checkParent",value:function(t){var n=t.closest("ul").parent("li"),a=n.children("span"),r=e("ul li>span>"+l.CHECKBOX,n),o=r.filter(":checked"),c="checked";if(n){o?o.length<r.length&&(c="undetermined"):c="unchecked";var s=a.children(l.CHECKBOX),i="checked"===c;s.prop("checked",i),s.each(function(t,n){var a=e(n).closest("li");a.data().checked!==i&&a.data("checked",i)}),e("i."+E.TREE_CHECKBOX,a).removeClass(E.TREE_CHECKED+" "+E.TREE_UNCHECKED+" "+E.TREE_UNDETERMINED).addClass(E["TREE_"+c.toUpperCase()]),n.removeClass(E.TREE_OPEN+" "+E.TREE_CLOSED).addClass("checked"===c?E.TREE_CLOSED:E.TREE_OPEN),this.checkParent(n)}}},{key:"checkboxHandler",value:function(t){var n=e(t.currentTarget),a=n.closest("li"),r=n.next(l.CHECKBOX),o=r.prop("checked");a.data("checked",!o),r.prop("checked",!o).trigger(s.CHANGE,[t.ctrlKey,!o])}},{key:"processNode",value:function(e,t,n){n.loaded=void 0!==n.loaded&&n.loaded,n.reload=void 0!==n.reload&&n.reload,n.href=void 0!==n.href?n.href:null,t.hasClass(E.TREE_CLOSED)&&n.href&&(n.loaded&&!n.reload||this.getRemoteData(e,t,n).always(function(){return t.toggleClass(E.TREE_CLOSED+" "+E.TREE_OPEN)}))}},{key:"getRemoteData",value:function(t,n,a){var r=this,o=e.extend(!0,{},this.options.params),c={url:""+o.base+a.href,context:t,data:e.extend(!0,{},a)};delete o.request.complete,delete o.request.error,delete o.request.success,delete c.data.reload,delete c.data.loaded,delete c.data.href,c=e.extend(!0,o.request,c);var s=n.children("i."+E.TREE_ICON);return s.addClass(E.TREE_LOADING),e.ajax(c).done(function(e,t,a){return r.buildOutput(e,n),r.options.params.success(e,t,a)}).fail(this.options.params.request.error).always(function(e,t){return s.removeClass(E.TREE_LOADING),r.options.params.request.complete(e,t)})}},{key:"buildOutput",value:function(e,t){var n=this.buildNodes(e);t.children("ul."+E.TREE_BRANCH).remove();var a=this.createNodes(n);t.append(a),this.addIcons(a),t.data("loaded",!0).toggleClass(E.TREE_CLOSED+" "+E.TREE_OPEN)}},{key:"buildNodes",value:function(e){var t=this;return e.map(function(e){var n=t.buildNode(e);return new i.default(n)})}},{key:"buildNode",value:function(e){var t={};for(var n in e){var a="children"!==n?e[n]:this.buildNodes(e.children);Array.isArray(a)||(a=a.trim()),a.length&&(t[n]=["leaf","expanded","checkable","checked"].includes(n)?this.setBoolean(a):a)}return t}},{key:"createNode",value:function(t){var n=e("<li>"),a=this.setBoolean(t.leaf)?"leaf":"branch",r={},o=null;r.class="leaf"===a?E.TREE_LEAF:t.expanded?E.TREE_OPEN:E.TREE_CLOSED,void 0!==t.value&&(r["data-value"]=t.value),t.id&&(r.id=t.id);for(var c in t)-1!==c.indexOf("data-")&&(r[c]=t[c]);this.options.checkbox&&(r["data-checked"]=void 0!==t.checked&&"none"!==t.checked?this.setBoolean(t.checked):"none",void 0!==t.checkable&&(r["data-checkable"]=this.setBoolean(t.checkable))),t.href&&("leaf"===a?o=e("<a>").attr("href",t.href):r["data-href"]=t.href);var s=e("<span>").addClass(E.NODE_TEXT);return o?s.append(o.html(t.text)):s.html(t.text),n.attr(r).append(s),t.children&&n.append(this.createNodes(t.children)),n}},{key:"createNodes",value:function(t){var n=this,a=e("ul").addClass(E.TREE_BRANCH);return t.forEach(function(e){return a.append(n.createNode(e))}),a}},{key:"checkLastNode",value:function(){var t=e("li:last-child",this.$element);"transparent"!==t.css("background")&&t.addClass(E.TREE_LAST)}},{key:"addIcons",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$element,a=e("li:not(:has(>i."+E.TREE_ICON+"))",n),r=this.options,o=e("<i>").addClass(E.TREE_ICON);if(a.prepend(o),r.checkbox)a.each(function(e,n){return t.initCheckbox(e,n,r,o)}),e("li:last-child>span>"+l.CHECKBOX,this.$element).trigger(s.CHANGE,[!0]);else if(r.foldertree){var c=o.clone();e("span."+E.NODE_TEXT,a).prepend(c)}var i=a.filter(":first");if(i.hasClass(E.TREE_ROOT_HEADER)){var d=e("<i>").addClass(E.TREE_HEADER_ICON).addClass(i.hasClass(E.TREE_CLOSED)?E.TOGGLE_RIGHT:E.TOGGLE_DOWN);i.children("i."+E.TREE_ICON).remove(),i.children("span."+E.NODE_TEXT).prepend(d)}}},{key:"initCheckbox",value:function(t,n,a,r){var o=e(n),c=o.data(),s=r.clone(),l=o.children("span."+E.NODE_TEXT);if(void 0!==c.checked&&"none"!==c.checked){var i=void 0!==c.checkbox?c.checkbox:a.checkbox,d=e("<input>").attr({type:"checkbox",value:void 0!==c.value?c.value:0,name:i}).prop("checked",c.checked);s.addClass(E.TREE_CHECKBOX).addClass(c.checked?E.TREE_CHECKED:E.TREE_UNCHECKED),l.prepend(d).prepend(s)}else o.addClass(E.TREE_NOICON)}},{key:"getSelected",value:function(){var t=this.$element,n=e(l.CHECKBOX+":checked",t),a=[];return n.each(function(t,n){return a.push(e(n).val())}),a.join()}},{key:"setBoolean",value:function(e){if(!e)return!1;if("string"==typeof e){if(e=e.trim(),!isNaN(e))return Boolean(parseFloat(e));switch(e){case"true":case"yes":e=!0;break;case"false":case"no":e=!1}return Boolean(e)}}},{key:"version",get:function(){return"0.0.5"}},{key:"default",get:function(){return a}}],[{key:"_jQueryInterface",value:function(t,r){return this.each(function(){var c=e(this),s=c.data("bs.tree"),E=e.extend(!0,{},a,s,"object"===(void 0===t?"undefined":o(t))&&t);if(s||(s=new n(this,E),c.data("bs.tree",s)),"string"==typeof t){if(void 0===o(s[t]))throw new Error("No method named "+t);return s[t](r)}})}}]),n}();return e.fn[t]=d._jQueryInterface,e.fn[t].Constructor=d,e.fn[t].getSelected=d.getSelected,e.fn[t].noConflict=function(){return e.fn[t]=n,d._jQueryInterface},d}(E.default);t.default=d},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),c=function e(t){a(this,e),o.default.extend(!0,this,{text:void 0,leaf:!1,value:void 0,expanded:!1,cls:void 0,id:void 0,href:void 0,checkable:!1,checked:"none",children:[]},t)};t.default=c}]);